#pragma checksum "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "8f4e8d98c2280a8a970c186edc773ffb94959835"
// <auto-generated/>
#pragma warning disable 1591
namespace MyWebUI.Pages.Installments
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using MyWebUI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using MyWebUI.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using MyWebModels.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using MyWebModels.Models.Account;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using MyWebModels.ViewModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using MyWebUI.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\_Imports.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/installments/details/{id}")]
    public partial class Details : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<div><h4>تفاصيل القسط</h4></div>");
#nullable restore
#line 7 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
 if (_installment == null)
{

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<MyWebUI.Shared.Loading>(1);
            __builder.AddAttribute(2, "Title", "Client Details");
            __builder.AddAttribute(3, "Message", "please wait...");
            __builder.CloseComponent();
#nullable restore
#line 10 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
}
else
{
    int days = (int)(DateTime.UtcNow - _installment.DueDate).TotalDays;


#line default
#line hidden
#nullable disable
            __builder.OpenElement(4, "div");
            __builder.AddMarkupContent(5, "<h5>القسط</h5>\r\n        <hr>\r\n        ");
            __builder.OpenElement(6, "dl");
            __builder.AddAttribute(7, "class", "row");
            __builder.AddMarkupContent(8, "<dt class=\"col-sm-2\">\r\n                الكود\r\n            </dt>\r\n            ");
            __builder.OpenElement(9, "dd");
            __builder.AddAttribute(10, "class", "col-sm-10");
            __builder.AddContent(11, 
#nullable restore
#line 23 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                 _installment.Id

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(12, "\r\n            ");
            __builder.AddMarkupContent(13, "<dt class=\"col-sm-2\">\r\n                العميل\r\n            </dt>\r\n            ");
            __builder.OpenElement(14, "dd");
            __builder.AddAttribute(15, "class", "col-sm-10");
            __builder.AddContent(16, 
#nullable restore
#line 29 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                 _installment.GetBill.GetClient.Name

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(17, "\r\n            ");
            __builder.AddMarkupContent(18, "<dt class=\"col-sm-2\">\r\n                قيمة القسط\r\n            </dt>\r\n            ");
            __builder.OpenElement(19, "dd");
            __builder.AddAttribute(20, "class", "col-sm-10");
            __builder.AddContent(21, 
#nullable restore
#line 35 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                 _installment.AmountValue

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n            ");
            __builder.AddMarkupContent(23, "<dt class=\"col-sm-2\">\r\n                تاريخ الاستحقاق\r\n            </dt>\r\n            ");
            __builder.OpenElement(24, "dd");
            __builder.AddAttribute(25, "class", "col-sm-10");
            __builder.AddContent(26, 
#nullable restore
#line 41 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                 _installment.DueDate.ToString("dd/MM/yyyy")

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 44 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
             if (_installment.GetBill.DelayFineType == DelayFineTypes.سنوى)
            {
                if (days != 0)
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(27, "<dt class=\"col-sm-2\">\r\n                        التأخير\r\n                    </dt>\r\n                    ");
            __builder.OpenElement(28, "dd");
            __builder.AddAttribute(29, "class", "col-sm-10");
            __builder.AddContent(30, 
#nullable restore
#line 52 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                          (days/365).ToString("0")

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(31, " سنة\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "<dt class=\"col-sm-2\">\r\n                        غرامة التأخير\r\n                    </dt>\r\n                    ");
            __builder.OpenElement(33, "dd");
            __builder.AddAttribute(34, "class", "col-sm-10");
            __builder.AddContent(35, 
#nullable restore
#line 59 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                          ((days / 365) * _installment.GetBill.DelayFine).ToString("0")

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(36, " جنيه\r\n                    ");
            __builder.CloseElement();
#nullable restore
#line 61 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(37, "<dt class=\"col-sm-2\">\r\n                        التأخير\r\n                    </dt>\r\n                    ");
            __builder.AddMarkupContent(38, "<dd class=\"col-sm-10\">\r\n                        0 سنة\r\n                    </dd>\r\n                    ");
            __builder.AddMarkupContent(39, "<dt class=\"col-sm-2\">\r\n                        غرامة التأخير\r\n                    </dt>\r\n                    ");
            __builder.AddMarkupContent(40, "<dd class=\"col-sm-10\">\r\n                        0 جنيه\r\n                    </dd>");
#nullable restore
#line 76 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
            }
            else if (_installment.GetBill.DelayFineType == DelayFineTypes.شهرى)
            {
                if (days != 0)
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(41, "<dt class=\"col-sm-2\">\r\n                        التأخير\r\n                    </dt>\r\n                    ");
            __builder.OpenElement(42, "dd");
            __builder.AddAttribute(43, "class", "col-sm-10");
            __builder.AddContent(44, 
#nullable restore
#line 86 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                          (days/30).ToString("0")

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(45, " شهر\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(46, "\r\n                    ");
            __builder.AddMarkupContent(47, "<dt class=\"col-sm-2\">\r\n                        غرامة التأخير\r\n                    </dt>\r\n                    ");
            __builder.OpenElement(48, "dd");
            __builder.AddAttribute(49, "class", "col-sm-10");
            __builder.AddContent(50, 
#nullable restore
#line 92 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                          ((days / 30) * _installment.GetBill.DelayFine).ToString("0")

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(51, " جنيه\r\n                    ");
            __builder.CloseElement();
#nullable restore
#line 94 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(52, "<dt class=\"col-sm-2\">\r\n                        التأخير\r\n                    </dt>\r\n                    ");
            __builder.AddMarkupContent(53, "<dd class=\"col-sm-10\">\r\n                        0 شهر\r\n                    </dd>\r\n                    ");
            __builder.AddMarkupContent(54, "<dt class=\"col-sm-2\">\r\n                        غرامة التأخير\r\n                    </dt>\r\n                    ");
            __builder.AddMarkupContent(55, "<dd class=\"col-sm-10\">\r\n                        0 جنيه\r\n                    </dd>");
#nullable restore
#line 109 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
            }
            else
            {
                if (days != 0)
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(56, "<dt class=\"col-sm-2\">\r\n                        التأخير\r\n                    </dt>\r\n                    ");
            __builder.OpenElement(57, "dd");
            __builder.AddAttribute(58, "class", "col-sm-10");
            __builder.AddContent(59, 
#nullable restore
#line 119 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                          (days).ToString("0")

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(60, " يوم\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(61, "\r\n                    ");
            __builder.AddMarkupContent(62, "<dt class=\"col-sm-2\">\r\n                        غرامة التأخير\r\n                    </dt>\r\n                    ");
            __builder.OpenElement(63, "dd");
            __builder.AddAttribute(64, "class", "col-sm-10");
            __builder.AddContent(65, 
#nullable restore
#line 125 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                          (days * _installment.GetBill.DelayFine).ToString("0")

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(66, " جنيه\r\n                    ");
            __builder.CloseElement();
#nullable restore
#line 127 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(67, "<dt class=\"col-sm-2\">\r\n                        التأخير\r\n                    </dt>\r\n                    ");
            __builder.AddMarkupContent(68, "<dd class=\"col-sm-10\">\r\n                        0 يوم\r\n                    </dd>\r\n                    ");
            __builder.AddMarkupContent(69, "<dt class=\"col-sm-2\">\r\n                        غرامة التأخير\r\n                    </dt>\r\n                    ");
            __builder.AddMarkupContent(70, "<dd class=\"col-sm-10\">\r\n                        0 جنيه\r\n                    </dd>");
#nullable restore
#line 142 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
            }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(71, "<dt class=\"col-sm-2\">\r\n                الاستلام\r\n            </dt>");
#nullable restore
#line 149 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
             if (_installment.ReceivedDate != null)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(72, "dd");
            __builder.AddAttribute(73, "class", "col-sm-10 text-primary");
            __builder.AddContent(74, 
#nullable restore
#line 152 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                     _installment.ReceivedDate?.ToString("dd/MM/yyyy")

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 154 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
            }
            else
            {

                if (_installment.DueDate < DateTime.UtcNow)
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(75, "<dd class=\"col-sm-10 text-danger\">\r\n                        فى انتظار السداد\r\n                    </dd>");
#nullable restore
#line 163 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(76, "<dd class=\"col-sm-10 text-success\">\r\n                        ليس بعد\r\n                    </dd>");
#nullable restore
#line 169 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(77, "\r\n        ");
            __builder.OpenElement(78, "div");
            __builder.AddAttribute(79, "style", "margin-bottom:20px;");
#nullable restore
#line 173 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
             if (_installment.ReceivedDate != null)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(80, "button");
            __builder.AddAttribute(81, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 175 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                                    e => Update(_installment)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(82, "class", "btn btn-primary");
            __builder.AddMarkupContent(83, "الغاء الاستلام");
            __builder.CloseElement();
#nullable restore
#line 176 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
            }
            else
            {

                if (_installment.DueDate < DateTime.UtcNow)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(84, "button");
            __builder.AddAttribute(85, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 182 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                                        e => Update(_installment)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(86, "class", "btn btn-danger");
            __builder.AddMarkupContent(87, "استلام");
            __builder.CloseElement();
#nullable restore
#line 183 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(88, "button");
            __builder.AddAttribute(89, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 186 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                                        e => Update(_installment)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(90, "class", "btn btn-success");
            __builder.AddMarkupContent(91, "استلام");
            __builder.CloseElement();
#nullable restore
#line 187 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
                }
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(92, "\r\n    ");
            __builder.AddMarkupContent(93, "<div><a href=\"/installments/list\" class=\"btn btn-primary\">Back</a></div>");
#nullable restore
#line 194 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"

    
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 198 "F:\Projects\Web\InstallmentManagementSystem\MyWebAPI\MyWebUI\Pages\Installments\Details.razor"
       

    [Inject]
    public IInstallmentServices _service { get; set; }

    public Installment _installment { get; set; }


    [Parameter]
    public string Id { get; set; }

    protected async override Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        _installment = await _service.Find(int.Parse(Id));
    }

    private async Task Update(Installment installment)
    {
        await _service.Update(installment);
        if (installment.ReceivedDate == null)
            installment.ReceivedDate = DateTime.UtcNow;
        else
            installment.ReceivedDate = null;
    }


#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
